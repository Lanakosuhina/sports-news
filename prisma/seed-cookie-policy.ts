import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

async function main() {
  const content = `
<div class="cookie-policy-content">
  <p class="lead">Политика в отношении файлов cookie является неотъемлемой частью Политики конфиденциальности интернет-сайта Тренды спорта.</p>

  <h2>Что такое файлы cookie?</h2>
  <p>Файлы cookie — это маленькие текстовые файлы, которые сохраняются браузером на устройстве Пользователя (компьютер, ноутбук, смартфон, планшет) и автоматически передаются веб-серверу при каждом обращении к сайту.</p>

  <h3>В чем их назначение?</h3>
  <p>Cookie используются для:</p>
  <ul>
    <li>Запоминания данных о Пользователе (язык, тема, предпочтения)</li>
    <li>Сохранения статуса авторизации</li>
    <li>Подсчета посетителей и анализа их поведения</li>
    <li>Показа целевой рекламы</li>
  </ul>

  <h3>Согласие на использование</h3>
  <p>Согласие на использование необязательных файлов cookie (функциональных, аналитических и рекламных) предоставляется Пользователем путем выбора соответствующих параметров в баннере согласия при первом посещении Сайта либо в любое время через настройки браузера.</p>

  <h2>Цели использования cookie</h2>
  <p>Сайт использует cookie-файлы для следующих целей:</p>
  <ul>
    <li>корректного функционирования Сайта и/или Приложения;</li>
    <li>сохранения пользовательских настроек (например, язык, регион);</li>
    <li>анализа поведения пользователей и статистики посещений;</li>
    <li>повышения удобства пользования Сайтом;</li>
    <li>показа персонализированного контента и рекламы.</li>
  </ul>

  <h2>Типы используемых cookie</h2>

  <div class="cookie-type cookie-required">
    <h3>Обязательные cookie</h3>
    <p class="cookie-badge">ВСЕГДА АКТИВНЫ, БЕЗ СОГЛАСИЯ</p>
    <p>Это cookie, без которых технически невозможно использовать Сайт:</p>
    <ul>
      <li>сохранение сессии пользователя</li>
      <li>защита от CSRF-атак (подделка запросов)</li>
      <li>токен авторизации</li>
      <li>идентификатор пользователя</li>
      <li>выбранный язык интерфейса</li>
      <li>безопасность контента</li>
      <li>флаг безопасного соединения</li>
    </ul>
    <p><strong>Для чего нужны?</strong></p>
    <ul>
      <li>Функционирование системы авторизации</li>
      <li>Защита от несанкционированного доступа</li>
      <li>Обеспечение безопасности (CSRF-защита)</li>
      <li>Базовое функционирование интерфейса</li>
    </ul>
    <p><strong>Могут ли быть отключены?</strong> НЕТ — без них сайт работать не будет</p>
  </div>

  <div class="cookie-type cookie-functional">
    <h3>Функциональные cookie</h3>
    <p>Улучшают удобство использования Сайта:</p>
    <ul>
      <li>сохранение предпочтений</li>
      <li>выбранная тема оформления</li>
      <li>размер шрифта</li>
      <li>режим темной темы</li>
      <li>сохраненные закладки</li>
      <li>история поиска на Сайте</li>
    </ul>
    <p><strong>Для чего нужны?</strong></p>
    <ul>
      <li>Запоминание выбранных параметров</li>
      <li>Восстановление прошлого состояния интерфейса</li>
      <li>Улучшение пользовательского опыта</li>
    </ul>
    <p><strong>Могут ли быть отключены?</strong> ДА — сайт будет работать, но менее удобно</p>
    <p><strong>Содержат ли личные данные?</strong> НЕ содержат</p>
  </div>

  <div class="cookie-type cookie-analytics">
    <h3>Аналитические cookie</h3>
    <p class="cookie-badge cookie-badge-consent">ТРЕБУЮТ СОГЛАСИЯ</p>
    <p><strong>Для чего нужны?</strong></p>
    <ul>
      <li>Подсчет уникальных посетителей</li>
      <li>Анализ источников трафика</li>
      <li>Отслеживание наиболее популярных страниц</li>
      <li>Анализ времени на странице</li>
      <li>Изучение пути пользователя по Сайту</li>
    </ul>
    <p><strong>Какие данные собираются?</strong></p>
    <ul>
      <li>IP-адрес (МАСКИРУЕТСЯ)</li>
      <li>Источник трафика (из какого поиска пришел)</li>
      <li>Время посещения</li>
      <li>Просмотренные страницы</li>
      <li>Время, проведенное на странице</li>
      <li>Действия на странице (клики, скроллинг)</li>
      <li>Информация об устройстве (браузер, ОС, разрешение экрана)</li>
    </ul>
    <p><strong>Могут ли быть отключены?</strong> ДА — нажмите «Отклонить» при запросе согласия</p>
    <p><strong>Передаются ли данные сторонним Сервисам?</strong></p>
    <ul>
      <li>Передаются в ОБЕЗЛИЧЕННОМ виде</li>
      <li>Сервисы не знают ваше имя или e-mail</li>
      <li>Используются только для статистики в общем виде</li>
    </ul>
  </div>

  <div class="cookie-type cookie-advertising">
    <h3>Рекламные/Маркетинговые cookie</h3>
    <p class="cookie-badge cookie-badge-consent">ТРЕБУЮТ СОГЛАСИЯ</p>
    <p><strong>Для чего нужны?</strong></p>
    <ul>
      <li>Показ релевантной рекламы на других сайтах</li>
      <li>Отслеживание конверсий (совершения действий)</li>
      <li>Создание аудиторий для таргетирования</li>
      <li>Ремаркетинг (показ объявлений тем, кто посещал Сайт)</li>
    </ul>
    <p><strong>Какие данные собираются?</strong></p>
    <ul>
      <li>Просмотренные страницы</li>
      <li>Клики по рекламе</li>
      <li>Отправленные формы</li>
      <li>Время на сайте</li>
      <li>Источник трафика</li>
    </ul>
    <p><strong>Могут ли быть отключены?</strong> ДА — нажмите «Отклонить рекламные cookie»</p>
    <p><strong>Передаются ли данные сторонним Сервисам?</strong></p>
    <ul>
      <li>Передаются ID в обезличенном виде</li>
      <li>Сервисы НЕ знают ваше имя или e-mail</li>
      <li>Используются для показа релевантной рекламы</li>
    </ul>
  </div>

  <h2>Баннер согласия на cookie</h2>
  <p>При первом входе на Сайт Пользователю показывается баннер.</p>
  <ul>
    <li><strong>Опция "Условия"</strong> — ведет на данную страницу (Политика в отношении файлов cookie)</li>
    <li><strong>Опция «Параметры»</strong> — позволяет пользователю самостоятельно выбрать типы cookie</li>
    <li><strong>Опция «Принять все»</strong> — активирует все типы cookie</li>
    <li><strong>Опция «Отклонить»</strong> — активирует только обязательные cookie</li>
  </ul>

  <h2>Управление cookie</h2>
  <h3>Инструкции по отключению cookie в браузерах</h3>

  <div class="browser-instructions">
    <h4>Google Chrome:</h4>
    <ol>
      <li>Нажмите на «замок» в адресной строке</li>
      <li>Нажмите на "Cookies и данные сайтов"</li>
      <li>Нажмите "Управление"</li>
      <li>Выберите сайт и нажмите удалить</li>
    </ol>
    <p>Или: Меню → Параметры → Конфиденциальность и безопасность → Cookies и другие данные сайтов</p>

    <h4>Mozilla Firefox:</h4>
    <ol>
      <li>Меню → Параметры</li>
      <li>Приватность и защита</li>
      <li>Cookies и данные сайтов → Управление cookies</li>
      <li>Удалить или очистить</li>
    </ol>

    <h4>Safari (Mac):</h4>
    <ol>
      <li>Параметры → Приватность</li>
      <li>Cookies → Управлять веб-сайтами</li>
      <li>Выберите сайт и нажмите Удалить</li>
    </ol>

    <h4>Microsoft Edge:</h4>
    <ol>
      <li>Параметры → Конфиденциальность</li>
      <li>Очистить данные просмотров</li>
      <li>Проверьте "Cookies и прочие данные сайтов"</li>
    </ol>
  </div>

  <h3>Отказ от рекламных cookie (глобально)</h3>
  <p>Пользователь может отказаться от отслеживания рекламы на уровне браузера:</p>
  <ul>
    <li><strong>Google Ads:</strong> <a href="https://adssettings.google.com/" target="_blank" rel="noopener">adssettings.google.com</a> — отключите опцию "Персонализированная реклама"</li>
    <li><strong>Яндекс.Реклама:</strong> <a href="https://yandex.ru/support/id/" target="_blank" rel="noopener">yandex.ru/support/id</a> — в разделе приватности отключите таргетирование</li>
    <li><strong>Network Advertising Initiative (NAI):</strong> <a href="https://optout.networkadvertising.org/" target="_blank" rel="noopener">optout.networkadvertising.org</a></li>
    <li><strong>Digital Advertising Alliance (DAA):</strong> <a href="https://optout.aboutads.info/" target="_blank" rel="noopener">optout.aboutads.info</a></li>
  </ul>

  <div class="highlight">
    <p><strong>Помните:</strong></p>
    <ul>
      <li>Обязательные cookie работают всегда и необходимы для работы сайта</li>
      <li>Функциональные cookie делают сайт удобнее</li>
      <li>Аналитические cookie помогают нам улучшать сайт</li>
      <li>Рекламные cookie используются для показа релевантной рекламы</li>
    </ul>
    <p><strong>Вы контролируете свои данные!</strong> Отключайте любые cookie, которые вам не нравятся (кроме обязательных).</p>
  </div>
</div>
  `.trim()

  const page = await prisma.page.upsert({
    where: { slug: 'cookie-policy' },
    update: {
      title: 'Политика в отношении файлов Cookie',
      content,
      metaTitle: 'Политика Cookie | Тренды спорта',
      metaDescription: 'Политика в отношении файлов cookie. Узнайте, как мы используем cookie и как управлять своими настройками.',
      isPublished: true,
    },
    create: {
      title: 'Политика в отношении файлов Cookie',
      slug: 'cookie-policy',
      content,
      metaTitle: 'Политика Cookie | Тренды спорта',
      metaDescription: 'Политика в отношении файлов cookie. Узнайте, как мы используем cookie и как управлять своими настройками.',
      isPublished: true,
    },
  })

  console.log('Created/updated cookie-policy page:', page.id)
}

main()
  .catch((e) => {
    console.error(e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  })
